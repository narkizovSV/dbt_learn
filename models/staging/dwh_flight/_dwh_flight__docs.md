{% docs table_boarding_passes %}

При регистрации на первый рейс, которая возможна за сутки до плановой даты отправления, пассажиру выдаются посадочные талоны на все рейсы в билете. В посадочном талоне указывается номер места (seat_no). Посадочный талон идентифицируется также, как и перелёт — номером билета и идентификатором рейса.

При посадке пассажиров в самолёт посадочным талонам присваиваются последовательные номера (boarding_no, этот номер уникален только в пределах данного рейса) и фиксируется время посадки (boarding_time)

{% enddocs %}


{% docs table_flights %}

Естественный ключ таблицы рейсов состоит из двух полей — номера маршрута (route_no) и плановой даты отправления (scheduled_departure). Чтобы сделать внешние ключи на эту таблицу компактнее, в качестве первичного используется суррогатный ключ (flight_id).

У каждого рейса есть запланированные дата и время вылета (scheduled_departure) и прибытия (scheduled_arrival). Реальные время вылета (actual_departure) и прибытия (actual_arrival) могут отличаться: обычно не сильно, но иногда и на несколько часов, если рейс задержан.

Статус рейса (status) может принимать одно из следующих значений:

+ Scheduled. Рейс доступен для бронирования. Это происходит за 60 дней до плановой даты вылета; до этого запись о рейсе не существует в базе данных.
+ On Time. Открыта регистрация (за сутки до плановой даты вылета) и рейс не задержан.
+ Delayed. Открыта регистрация (за сутки до плановой даты вылета), но рейс задержан.
+ Boarding. Идет посадка пассажиров в самолёт.
+ Departed. Самолёт вылетел и находится в воздухе.
+ Arrived. Самолёт прибыл в пункт назначения.
+ Cancelled. Рейс отменён.

{% enddocs %}




{% docs ticket_flights %}

Перелёт соединяет билет с рейсом и идентифицируется их номерами.

Для каждого перелета указываются его стоимость (price) и класс обслуживания (fare_conditions).

{% enddocs %}




{% docs tickets %}

Билет имеет уникальный номер (ticket_no), состоящий из 13 цифр.

Билет содержит информацию о пассажире: номер документа, удостоверяющего личность (passenger_id), а также его полное имя (passenger_name). Номер документа состоит из кода страны и цифрового идентификатора, а полное имя — из имени и фамилии (имя указывается первым даже для тех стран, в которых принят обратный порядок, как, например, в Китае).

Для пассажира нет отдельной сущности, но пассажир однозначно идентифицируется номером документа. Гарантируется, что одному номеру документа всегда соответствует одно и то же имя пассажира (в разных документах имена могут совпадать). Один и тот же пассажир не может участвовать в одном бронировании несколько раз и не может следовать разными рейсами в одно и то же время (хотя последнее условие не проверяется на уровне базы данных).

Признак прямого билета (outbound) имеет истинное значение для билета «туда» и ложное — для билета «обратно». Конечные пункты перелётов, включенных в прямой и обратный билеты, совпадают, но пути следования могут отличаться.

{% enddocs %}